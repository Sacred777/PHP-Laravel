Практическая работа

# Цели практической работы

Научиться: 

*   создавать асинхронные задачи и вызывать их;
*   настраивать очередь через базу данных и добавлять в нее задачи;
*   выполнять задачи через планировщик задач Laravel.

  

В рамках практической работы вы реализуете очистку файла логирования приложения с помощью асинхронной задачи, помещенной в планировщик задач.


## Что нужно сделать

1.  Создайте новый проект Laravel или откройте уже существующий.  
2.  Создайте новую ветку вашего репозитория от корневой (main или master). 
3.  Создайте миграцию для очереди через базу данных командой командой php artisan queue:table.  
4.  Выполните миграцию.  
5.  Пропишите в файле .env QUEUE\_CONNECTION=database
6.  Создайте класс  ClearCache.php с помощью команды php artisan make:job ClearCache.
7.  В файле ClearCache.php пропишите код для очистки log файла ![](https://lh5.googleusercontent.com/DVLCnQTzMfVFijaxSjjSl3pfZtDb0uhiEaGkISMC3r_w5ZRNMYkYx-myjnb0upMb9HXF6At7YDvhSuFip8XUCGG6nbX8etDL7GQSrE6KZLLdJqIRBw0dF4PJwdtVR6Nh5i25qhIYCPNdR9wun_0gOg)
9.  Поместите вызов Job в планировщик задач Laravel в файле app/Console/Kernel.php![](https://lh6.googleusercontent.com/0Nhtk1hurUJpx7GY47EqYSAMzH1R14MCpLl9WAZTuaHn52LT8CwBuTFs6ztUhU0mJbOBs00KYVNMmhwBdZK9jibW48UxVd2H8VwoIn-gXNhGUH8iN6XU21nsbY9glRrpbgJZWW1pOd4XbbJJe41Cyg)
10.  Запустите очередь командой php artisan queue:listen
11.  Запустите планировщик задач командой php artisan schedule:work и не закрывайте терминал

# Критерии оценки работы

**Принято:** 

*   выполнены все пункты работы;
*   в работе используются указанные инструменты, соблюдены условия;
*   код корректно отформатирован по стандартам программирования на PHP;
*   код запускается, выводит различные данные на экран, не вызывает ошибок.

  

**На доработку:**

*   выполнены не все пункты работы;
*   работа выполнена с ошибками.

  

# Как отправить работу на проверку

1.  Отправьте коммит с кодом в ветку master в вашем репозитории. 
2.  Отправьте URL вашего репозитория через форму отправки на сайте Skillbox.
